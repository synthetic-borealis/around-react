{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","utils/constants.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","utils/classes/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logoImage","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","cardImage","card","link","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClass","cardLikeButtonClass","length","name","style","backgroundImage","onClick","onCardClick","onCardLike","type","onCardDelete","Main","avatar","onEditAvatarClick","onEditProfileClick","about","onAddPlaceClick","cards","map","Footer","formClassList","popupClassList","PopupWithForm","sectionClassName","popupClasses","isOpen","formPopupClassName","formClassName","formClasses","formName","formTitleClassName","children","id","action","autoComplete","onSubmit","title","buttonCaption","onClose","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUserUpdate","placeholder","required","minLength","maxLength","onChange","target","value","EditAvatarPopup","avatarRef","createRef","onUpdateAvatar","current","ref","AddPlacePopup","values","setValues","handleChange","onAddPlaceSubmit","then","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","_handleResponse","method","body","JSON","stringify","avatarLink","cardId","authorization","App","setCurrentUser","setCards","isEditProfilePopupOpen","setIsEditProfileOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","closeAllPopups","setTimeout","getInitialCards","initialCards","catch","console","log","getUserData","Provider","changeLikeStatus","newCard","state","c","removeCard","filter","user","updateUserInfo","userData","addCard","updateUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.89be8045.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c7581985.svg\";","import logoImage from \"../images/logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__container\">\r\n        <img className=\"logo\" src={logoImage} alt=\"Around the U.S.\" />\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport { CurrentUserContext };\r\n","import React from 'react';\n\n// Contexts\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const cardImage = `url(${props.card.link})`;\n  const isOwn = props.card.owner._id === currentUser._id;\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n  const cardDeleteButtonClass = `card__delete-button ${isOwn ? '' : 'card__delete-button_hidden'}`;\n  const cardLikeButtonClass = `card__like-button ${isLiked ? 'card__like-button_active' : ''}`;\n  const likes = props.card.likes.length;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <article className=\"card\">\n      <button className=\"card__image\" aria-label={props.card.name} style={{backgroundImage: cardImage}} onClick={handleClick}/>\n      <div className=\"card__container\">\n        <h2 className=\"card__caption\">{props.card.name}</h2>\n        <div className=\"card__like-container\">\n          <button className={cardLikeButtonClass} onClick={handleLikeClick} type=\"button\" aria-label=\"Like\"></button>\n          <p className=\"card__like-counter\">{likes}</p>\n        </div>\n      </div>\n      <button className={cardDeleteButtonClass} onClick={handleDeleteClick} type=\"button\" aria-label=\"Delete\"></button>\n    </article>\n  );\n}\n\nexport default Card;\n","import React from 'react';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nimport Card from './Card';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <div\n            className=\"profile__avatar\"\n            style={{ backgroundImage: `url(${currentUser.avatar})` }}\n          ></div>\n          <button\n            className=\"profile__avatar-button\"\n            onClick={props.onEditAvatarClick}\n          ></button>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__header\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              className=\"profile__edit-button\"\n              type=\"button\"\n              aria-label=\"Edit\"\n              onClick={props.onEditProfileClick}\n            ></button>\n          </div>\n          <p className=\"profile__job\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"add-button\"\n          type=\"button\"\n          aria-label=\"Add\"\n          onClick={props.onAddPlaceClick}\n        ></button>\n      </section>\n\n      <section className=\"places\">\n        {props.cards.map((card) => (\n          <Card\n            key={card[\"_id\"]}\n            card={card}\n            onCardClick={props.onCardClick}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">Â© 2021 Around The U.S.</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","// Form Classes\r\nconst formClassList = {\r\n  formSelector: '.form',\r\n  formClass: 'form',\r\n  formTypeClassPrefix: 'form_type_',\r\n  inputSelector: '.form__input',\r\n  submitButtonSelector: '.form__submit-btn',\r\n  fieldsetSelector: '.form__fieldset',\r\n  errorSelector: '.form__error',\r\n  inactiveButtonClass: 'form__submit-btn_disabled',\r\n  inputErrorClass: 'form__input_type_error',\r\n  errorClass: 'form__error_visible'\r\n};\r\n\r\n// Popup Classes\r\nconst popupClassList = {\r\n  openedPopup: 'popup-section_opened',\r\n  closeButton: 'close-button',\r\n  imageSelector: '.image-popup__image',\r\n  imageCaptionSelector: '.image-popup__caption',\r\n  popupClass: 'popup-section',\r\n  popupTypeClassPrefix: 'popup-section_type_',\r\n  formPopupClass: 'form-popup',\r\n  formPopupTypePrefix: 'form-popup_type_'\r\n};\r\n\r\n// Card Classes\r\nconst cardClassList = {\r\n  cardSelector: '.card',\r\n  imageSelector: '.card__image',\r\n  captionSelector: '.card__caption',\r\n  likeButtonSelector: '.card__like-button',\r\n  activeLikeButtonClass: 'card__like-button_active',\r\n  likeCounterSelector: '.card__like-counter',\r\n  deleteButtonSelector: '.card__delete-button'\r\n};\r\n\r\n// API Options\r\nconst apiOptions = {\r\n  baseUrl: 'https://around.nomoreparties.co/v1/group-12',\r\n  headers: {\r\n    authorization: 'd93b3a72-c2aa-468d-b021-56b5e633ed52',\r\n    'Content-Type': 'application/json'\r\n  },\r\n};\r\n\r\n// Container Selectors\r\nconst confirmContainerSelector = '.popup-section_type_confirm';\r\nconst placesContainerSelector = '.places';\r\nconst editContainerSelector = '.popup-section_type_edit';\r\nconst addContainerSelector = '.popup-section_type_add';\r\nconst changeAvatarContainerSelector = '.popup-section_type_change-avatar';\r\nconst imagePopupContainerSelector = '.popup-section_type_image';\r\n\r\n// Labels, headings, etc.\r\nconst profileNameSelector = '.profile__name';\r\nconst profileJobSelector = '.profile__job';\r\nconst profileAvatarSelector = '.profile__avatar';\r\n\r\n// Template Selectors\r\nconst cardTemplateSelector = '#card-template';\r\n\r\n// Misc. Values\r\nconst popupTransitionDuration = 500;\r\n\r\nexport {\r\n  formClassList,\r\n  popupClassList,\r\n  cardClassList,\r\n  apiOptions,\r\n  confirmContainerSelector,\r\n  placesContainerSelector,\r\n  editContainerSelector,\r\n  addContainerSelector,\r\n  changeAvatarContainerSelector,\r\n  imagePopupContainerSelector,\r\n  profileNameSelector,\r\n  profileJobSelector,\r\n  profileAvatarSelector,\r\n  cardTemplateSelector,\r\n  popupTransitionDuration\r\n};\r\n","import {\r\n  popupClassList as popupClasses,\r\n  formClassList as formClasses\r\n} from '../utils/constants';\r\n\r\nfunction PopupWithForm(props) {\r\n  const sectionClassName = `${popupClasses.popupClass} ${\r\n    popupClasses.popupTypeClassPrefix\r\n  }${props.name} ${props.isOpen ? popupClasses.openedPopup : \"\"}`;\r\n\r\n  const formPopupClassName = `${popupClasses.formPopupClass} ${popupClasses.formPopupTypePrefix}${props.name}`;\r\n  const formClassName = `${formClasses.formClass} ${formClasses.formTypeClassPrefix}${props.name}`;\r\n  const formName = `${props.name}-form`;\r\n  const formTitleClassName = `form__title ${props.children ? 'form__title_gap-size_small' : ''}`;\r\n\r\n  return (\r\n    <section className={sectionClassName}>\r\n      <div className={formPopupClassName}>\r\n        <form id={formName} className={formClassName} action=\"#\" name={formName} autoComplete=\"off\" onSubmit={props.onSubmit}>\r\n          <fieldset className=\"form__fieldset\">\r\n            <h2 className={formTitleClassName}>{props.title}</h2>\r\n            {props.children}\r\n          </fieldset>\r\n          <button type=\"submit\" className=\"form__submit-btn\">{props.buttonCaption}</button>\r\n        </form>\r\n        <button className=\"close-button\" type=\"button\" aria-label=\"Close\" onClick={props.onClose}></button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import {\r\n  popupClassList as popupClasses,\r\n} from '../utils/constants';\r\n\r\nfunction ImagePopup(props) {\r\n  const className = `${popupClasses.popupClass} ${popupClasses.popupTypeClassPrefix}image ${props.isOpen ? popupClasses.openedPopup : \"\"}`;\r\n\r\n  return (\r\n    <section className={className}>\r\n      <div className=\"image-popup\">\r\n        <img className=\"image-popup__image\" src={props.card.link} alt={props.card.name} />\r\n        <p className=\"image-popup__caption\">{props.card.name}</p>\r\n        <button className=\"close-button close-button_type_image-popup\" type=\"button\" onClick={props.onClose}></button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUserUpdate({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm name=\"edit\" title=\"Edit profile\" buttonCaption=\"Save\"\r\n      isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <label className=\"form__field\">\r\n        <input id=\"profile-name-input\" type=\"text\" placeholder=\"Name\" name=\"name\" required className=\"form__input\"\r\n          minLength=\"2\" maxLength=\"40\" onChange={handleNameChange} value={name || ''} />\r\n        <span className=\"form__error profile-name-input-error\">Here be error message.</span>\r\n      </label>\r\n      <label className=\"form__field\">\r\n        <input id=\"profile-job-input\" type=\"text\" placeholder=\"Job\" name=\"about\" required className=\"form__input\"\r\n          minLength=\"2\" maxLength=\"400\" onChange={handleDescriptionChange} value={description || ''} />\r\n        <span className=\"form__error profile-job-input-error\">Here be error message.</span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.createRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({avatar: avatarRef.current.value});\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"change-avatar\" title=\"Change profile picture\" buttonCaption=\"Save\"\r\n          isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <label className=\"form__field\">\r\n        <input id=\"profile-avatar-input\" type=\"url\" placeholder=\"Image Link\" name=\"avatar\" required\r\n          className=\"form__input form__input_type_avatar-link\" ref={avatarRef} />\r\n        <span className=\"form__error profile-avatar-input-error\">Here be error message.</span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [values, setValues] = React.useState({name: '', link: ''});\r\n\r\n  function handleChange(e) {\r\n    setValues({...values, [e.target.name]: e.target.value});\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onAddPlaceSubmit(values).then(() => {\r\n      setValues({name: '', link: ''});\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add\"\r\n      title=\"New place\"\r\n      buttonCaption=\"Create\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"form__field\">\r\n        <input\r\n          id=\"place-title-input\"\r\n          type=\"text\"\r\n          placeholder=\"Title\"\r\n          name=\"name\"\r\n          required\r\n          className=\"form__input form__input_type_place-title\"\r\n          minLength=\"1\"\r\n          maxLength=\"30\"\r\n          onChange={handleChange}\r\n          value={values.name || \"\"}\r\n        />\r\n        <span className=\"form__error place-title-input-error\">\r\n          Here be error message.\r\n        </span>\r\n      </label>\r\n      <label className=\"form__field\">\r\n        <input\r\n          id=\"place-link-input\"\r\n          type=\"url\"\r\n          placeholder=\"Image Link\"\r\n          name=\"link\"\r\n          required\r\n          className=\"form__input form__input_type_place-link\"\r\n          onChange={handleChange}\r\n          value={values.link || \"\"}\r\n        />\r\n        <span className=\"form__error place-link-input-error\">\r\n          Here be error message.\r\n        </span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import Api from './classes/Api';\r\nimport { apiOptions } from './constants';\r\n\r\nconst api = new Api(apiOptions);\r\n\r\nexport default api;\r\n","class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    return res.ok ? res.json() : Promise.reject(`Error: ${res.status}`);\r\n  }\r\n\r\n  getUserData() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n    })\r\n      .then(this._handleResponse);\r\n  }\r\n\r\n  updateUserInfo({name, about}) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        about\r\n      })\r\n    })\r\n      .then(this._handleResponse);\r\n  }\r\n\r\n  updateUserAvatar(avatarLink) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: avatarLink\r\n      })\r\n    })\r\n      .then(this._handleResponse);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers,\r\n    })\r\n      .then(this._handleResponse);\r\n  }\r\n\r\n  changeLikeStatus(cardId, isLiked) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: `${isLiked ? \"PUT\" : \"DELETE\"}`,\r\n      headers: this._headers,\r\n    })\r\n      .then(this._handleResponse);\r\n  }\r\n\r\n  addCard({name, link}) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        link})\r\n    })\r\n    .then(this._handleResponse);\r\n  }\r\n\r\n  removeCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers\r\n    })\r\n    .then(this._handleResponse);\r\n  }\r\n}\r\n\r\nexport default Api;\r\n","// Components\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\n\r\n// Contexts\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\n// Misc. Utils\r\nimport api from \"../utils/api\";\r\n\r\n// Constants\r\nimport {\r\n  popupTransitionDuration,\r\n} from '../utils/constants';\r\n\r\nimport React from \"react\";\r\n\r\nfunction App() {\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfileOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\r\n    React.useState(false);\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfileOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n    // Ensure visitors don't notice the image popup resetting\r\n    setTimeout(() => {\r\n      setSelectedCard({});\r\n    }, popupTransitionDuration);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfileOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsImagePopupOpen(true);\r\n  }\r\n\r\n  function handleUpdateUser(user) {\r\n    api.updateUserInfo(user)\r\n    .then((userData) => {\r\n      setCurrentUser(userData);\r\n      closeAllPopups();\r\n    })\r\n    .catch(console.log);\r\n  }\r\n\r\n  function handleUpdateAvatar({avatar}) {\r\n    api.updateUserAvatar(avatar)\r\n      .then((userData) => {\r\n        setCurrentUser(userData);\r\n        closeAllPopups();\r\n      })\r\n      .catch(console.log);\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    api.changeLikeStatus(card._id, !isLiked).then((newCard) => {\r\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n    })\r\n    .catch(console.log);\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    return api.addCard(card)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch(console.log);\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.removeCard(card._id).then(() => {\r\n      setCards((state) => state.filter((c) => c._id !== card._id));\r\n    })\r\n    .catch(console.log);\r\n  }\r\n\r\n  // Ensure API request for user information & cards data is only made once\r\n  React.useEffect(() => {\r\n    api.getInitialCards().then((initialCards) => setCards([...initialCards])).catch(console.log);\r\n    api.getUserData().then(setCurrentUser).catch(console.log);\r\n  }, []);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page-container\">\r\n        <Header />\r\n        <Main\r\n          onEditProfileClick={handleEditProfileClick}\r\n          onEditAvatarClick={handleEditAvatarClick}\r\n          onAddPlaceClick={handleAddPlaceClick}\r\n          cards={cards}\r\n          onCardClick={handleCardClick}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDelete}\r\n        />\r\n        <Footer />\r\n\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUserUpdate={handleUpdateUser} />\r\n\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlaceSubmit={handleAddPlaceSubmit} />\r\n\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n\r\n        <PopupWithForm name=\"confirm\" title=\"Are you sure?\" buttonCaption=\"Yes\" onClose={closeAllPopups} />\r\n\r\n        <ImagePopup card={selectedCard} isOpen={isImagePopupOpen} onClose={closeAllPopups} />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}